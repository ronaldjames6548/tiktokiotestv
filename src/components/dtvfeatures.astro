---
import Link from "@components/ui/link.astro";
// Add new built-in i18n imports
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import { getRelativeLocaleUrl } from "astro:i18n";

// @ts-ignore
import { Icon } from "astro-icon/components";

// Get current language and create translation function
const safeUrl = Astro.url || new URL('/', Astro.site || 'http://localhost:4321');
const lang = getLangFromUrl(safeUrl);
const t = useTranslations(lang);

// Helper function to create localized paths (if needed)
function localizePath(path: string) {
	if (!path || (path && path.startsWith('http')) || path === '#') return path;
	return getRelativeLocaleUrl(lang, path);
}

// Simply paste your SVG code as a string in the icon property
const features = [
	{
		icon: `<svg fill="#ffffff" width="32px" height="32px" viewBox="-1 0 19 19" xmlns="http://www.w3.org/2000/svg" class="cf-icon-svg" stroke="#ffffff" stroke-width="0.00019"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M10.594 1.975a8 8 0 0 1 1.895.795 7.857 7.857 0 0 1 1.604 1.237 8.05 8.05 0 0 1 1.241 1.6 7.909 7.909 0 0 1 0 7.991 8.021 8.021 0 0 1-2.845 2.845 7.888 7.888 0 0 1-4.007 1.082 7.825 7.825 0 0 1-3.985-1.082 8.039 8.039 0 0 1-1.599-1.241 7.848 7.848 0 0 1-1.237-1.604 8 8 0 0 1-.795-1.895 7.86 7.86 0 0 1-.283-2.112 7.782 7.782 0 0 1 .283-2.098 7.902 7.902 0 0 1 5.518-5.518 7.764 7.764 0 0 1 2.098-.283 7.848 7.848 0 0 1 2.112.283zM6.682 3.043A6.793 6.793 0 0 0 1.933 7.79a6.688 6.688 0 0 0-.241 1.8 6.764 6.764 0 0 0 .242 1.815 6.915 6.915 0 0 0 .685 1.634 6.775 6.775 0 0 0 1.063 1.378 6.975 6.975 0 0 0 1.38 1.071 6.822 6.822 0 0 0 5.235.686 6.789 6.789 0 0 0 3.012-1.757 6.925 6.925 0 0 0 1.07-1.382 6.785 6.785 0 0 0 .93-3.445 6.722 6.722 0 0 0-.929-3.42 6.967 6.967 0 0 0-1.07-1.38 6.77 6.77 0 0 0-1.38-1.063 6.936 6.936 0 0 0-1.633-.685A6.775 6.775 0 0 0 8.482 2.8a6.695 6.695 0 0 0-1.8.243zm2.84 10.095V6.58H8.106L5.948 8.164l.806 1.103 1.222-.945v4.816z"></path></g></svg>`,
		iconBg: "bg-blue-500",
		title: "Boundless Downloads",
		description: "Fetch as many TikTok videos as your heart desires without limitations."
	},
	{
		icon: `<svg fill="#ffffff" width="32px" height="32px" viewBox="-1 0 19 19" xmlns="http://www.w3.org/2000/svg" class="cf-icon-svg" stroke="#ffffff" stroke-width="0.00019"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M10.594 1.975a8 8 0 0 1 1.895.795 7.857 7.857 0 0 1 1.604 1.237 8.05 8.05 0 0 1 1.241 1.6 7.909 7.909 0 0 1 0 7.991 8.021 8.021 0 0 1-2.845 2.845 7.888 7.888 0 0 1-4.007 1.082 7.825 7.825 0 0 1-3.985-1.082 8.039 8.039 0 0 1-1.599-1.241 7.848 7.848 0 0 1-1.237-1.604 8 8 0 0 1-.795-1.895 7.86 7.86 0 0 1-.283-2.112 7.782 7.782 0 0 1 .283-2.098 7.902 7.902 0 0 1 5.518-5.518 7.764 7.764 0 0 1 2.098-.283 7.848 7.848 0 0 1 2.112.283zM6.682 3.043A6.793 6.793 0 0 0 1.933 7.79a6.688 6.688 0 0 0-.241 1.8 6.764 6.764 0 0 0 .242 1.815 6.916 6.916 0 0 0 .685 1.634 6.775 6.775 0 0 0 1.063 1.378 6.975 6.975 0 0 0 1.38 1.071 6.822 6.822 0 0 0 5.235.686 6.789 6.789 0 0 0 3.012-1.757 6.924 6.924 0 0 0 1.07-1.382 6.785 6.785 0 0 0 .93-3.445 6.722 6.722 0 0 0-.929-3.42 6.967 6.967 0 0 0-1.07-1.38 6.77 6.77 0 0 0-1.38-1.063 6.937 6.937 0 0 0-1.633-.685A6.775 6.775 0 0 0 8.482 2.8a6.695 6.695 0 0 0-1.8.243zm4.176 10.095v-1.352H8.18l1.52-1.353q.222-.203.43-.412a2.996 2.996 0 0 0 .371-.449 2.115 2.115 0 0 0 .255-.523 2.028 2.028 0 0 0 .092-.635 1.89 1.89 0 0 0-.199-.889 1.853 1.853 0 0 0-.532-.63 2.296 2.296 0 0 0-.76-.37 3.23 3.23 0 0 0-.88-.12 2.854 2.854 0 0 0-.912.144 2.376 2.376 0 0 0-.764.42 2.315 2.315 0 0 0-.551.666 2.346 2.346 0 0 0-.273.89l1.491.204a1.232 1.232 0 0 1 .292-.717.893.893 0 0 1 1.227-.057.76.76 0 0 1 .222.57 1 1 0 0 1-.148.535 2.418 2.418 0 0 1-.389.472l-2.556 2.311v1.295z"></path></g></svg>`,
		iconBg: "bg-orange-500",
		title: "Rapid and Straightforward",
		description: "Experience blazing-fast downloads, even on slower internet connections."
	},
	{
		icon: `<svg fill="#ffffff" width="64px" height="64px" viewBox="-1 0 19 19" xmlns="http://www.w3.org/2000/svg" class="cf-icon-svg" stroke="#ffffff" stroke-width="0.00019"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M10.598 1.958a7.948 7.948 0 0 1 5.536 5.535 7.956 7.956 0 0 1 0 4.206 7.863 7.863 0 0 1-2.04 3.49 8.081 8.081 0 0 1-1.605 1.237 7.914 7.914 0 0 1-1.89.8 7.965 7.965 0 0 1-4.207 0 7.934 7.934 0 0 1-5.526-5.527 7.99 7.99 0 0 1 0-4.21 7.94 7.94 0 0 1 .8-1.887A8.05 8.05 0 0 1 2.902 4 7.86 7.86 0 0 1 8.5 1.675a7.77 7.77 0 0 1 2.098.283zM6.691 3.025A6.753 6.753 0 0 0 3.688 4.78a6.987 6.987 0 0 0-1.067 1.384 6.847 6.847 0 0 0-.688 1.624 6.872 6.872 0 0 0 0 3.613 6.811 6.811 0 0 0 .688 1.627 6.824 6.824 0 0 0 4.07 3.13 6.857 6.857 0 0 0 3.609 0 6.855 6.855 0 0 0 1.628-.688 7.011 7.011 0 0 0 1.384-1.067 6.754 6.754 0 0 0 1.754-3.002 6.847 6.847 0 0 0 0-3.61 6.834 6.834 0 0 0-.687-1.627 6.92 6.92 0 0 0-2.452-2.452 6.84 6.84 0 0 0-1.627-.687 6.847 6.847 0 0 0-3.61 0zm4.19 7.668a1.529 1.529 0 0 0-.26-.444 1.647 1.647 0 0 0-.398-.342 1.69 1.69 0 0 0-.509-.208V9.67a1.51 1.51 0 0 0 .792-.505 1.402 1.402 0 0 0 .31-.923 1.626 1.626 0 0 0-.199-.821 1.814 1.814 0 0 0-.523-.58 2.282 2.282 0 0 0-.736-.344 3.251 3.251 0 0 0-.848-.11 3.01 3.01 0 0 0-.797.106 2.625 2.625 0 0 0-.717.315 2.222 2.222 0 0 0-.57.518 2.142 2.142 0 0 0-.361.728l1.445.333a.92.92 0 0 1 .32-.533.891.891 0 0 1 .578-.199.936.936 0 0 1 .574.187.633.633 0 0 1 .25.54.654.654 0 0 1-.356.63 1.128 1.128 0 0 1-.366.12 2.706 2.706 0 0 1-.426.033H7.63v1.13h.417a2.816 2.816 0 0 1 .481.042 1.488 1.488 0 0 1 .43.138.821.821 0 0 1 .307.264.714.714 0 0 1 .115.417.789.789 0 0 1-.087.389.776.776 0 0 1-.223.255.93.93 0 0 1-.305.143 1.292 1.292 0 0 1-.339.047 1.085 1.085 0 0 1-.731-.246 1.163 1.163 0 0 1-.38-.57l-1.445.38a2.186 2.186 0 0 0 .996 1.33 2.723 2.723 0 0 0 .769.31 3.665 3.665 0 0 0 .866.101 3.26 3.26 0 0 0 .893-.124 2.506 2.506 0 0 0 .792-.38 1.958 1.958 0 0 0 .57-.647 1.89 1.89 0 0 0 .218-.93 1.462 1.462 0 0 0-.093-.522z"></path></g></svg>`,
		iconBg: "bg-green-500",
		title: "Completely Watermark-Free",
		description: "Every video downloaded comes pure — no watermarks, just clarity."
	},
	{
		icon: `<svg fill="#ffffff" width="32px" height="32px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"/></svg>`,
		iconBg: "bg-pink-500",
		title: "Secure and Private",
		description: "No logins required — your data remains secure with DownloadTik."
	},
	{
		icon: `<svg fill="#ffffff" width="32px" height="32px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"/></svg>`,
		iconBg: "bg-purple-600",
		title: "Feature-Rich Tools",
		description: "Track views and store videos — features unavailable within the TikTok app."
	},
	{
		icon: `<svg fill="#ffffff" width="32px" height="32px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"/></svg>`,
		iconBg: "bg-yellow-500",
		title: "No Installation Required",
		description: "No accounts, no software, no problem — just paste and download."
	}
];
---

<div class="relative p-4">
	<div class="max-w-screen-xl mx-auto">
		<div class="rounded-b lg:rounded-b-none lg:rounded-r flex flex-col justify-between leading-normal">

			<!-- New Features Section -->
			<section class="py-16 bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 rounded-xl mb-12">
				<div class="max-w-6xl mx-auto px-6">
					<!-- Header Section -->
					<div class="text-center mb-16">
						<h2 class="text-4xl md:text-5xl font-bold text-white mb-6">
							Why Choose DownloadTik for TikTok Story Downloads?
						</h2>
						<p class="text-gray-300 text-lg max-w-3xl mx-auto">
							Quickly capture any TikTok story you admire — effortlessly by using DownloadTik.
							<br />
							No watermarks, no caps, just seamless downloads.
						</p>
					</div>

					<!-- Features Grid -->
					<div class="grid md:grid-cols-2 gap-8">
						{features.map((feature) => (
							<div class="flex gap-4">
								<!-- Icon -->
								<div class={`${feature.iconBg} rounded-2xl w-14 h-14 flex items-center justify-center flex-shrink-0`}>
									<Fragment set:html={feature.icon} />
								</div>
								
								<!-- Content -->
								<div>
									<h3 class="text-xl font-bold text-white mb-2">
										{feature.title}
									</h3>
									<p class="text-gray-300 leading-relaxed">
										{feature.description}
									</p>
								</div>
							</div>
						))}
					</div>
				</div>
			</section>

			<!-- How It Works Simple Section -->
			<section class="text-center mb-12">
				<h3 class="md:text-2xl text-[18px] font-bold mb-4">How It Works</h3>
				<ol class="space-y-4 text-left max-w-xl mx-auto">
					<li class="flex items-start gap-3">
						<span class="bg-purple-500 rounded-full w-6 h-6 flex items-center justify-center text-xs flex-shrink-0 mt-1">1</span>
						<span class="md:text-[16px] text-[14px]">Paste the TikTok video link into the input box above.</span>
					</li>
					<li class="flex items-start gap-3">
						<span class="bg-purple-500 rounded-full w-6 h-6 flex items-center justify-center text-xs flex-shrink-0 mt-1">2</span>
						<span class="md:text-[16px] text-[14px]">Click on the 'Download' button to fetch the video data.</span>
					</li>
					<li class="flex items-start gap-3">
						<span class="bg-purple-500 rounded-full w-6 h-6 flex items-center justify-center text-xs flex-shrink-0 mt-1">3</span>
						<span class="md:text-[16px] text-[14px]">Select whether you want to download the video, audio, or cover image.</span>
					</li>
				</ol>
			</section>

			
		</div>
	</div>
</div>
